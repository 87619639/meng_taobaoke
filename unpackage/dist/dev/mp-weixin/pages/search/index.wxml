<block wx:if="{{isHistory}}"><view class="search"><block wx:if="{{hotSearchList.length>0}}"><view class="search-hot-box"><view class="search-title">热门搜索</view><block wx:for="{{hotSearchList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><block><view class="search-tag-view"><uni-tag vue-id="{{'1-'+index}}" circle="{{true}}" text="{{item.world}}" data-event-opts="{{[['^click',[['hotTagClick',[index]]]]]}}" bind:click="__e" bind:__l="__l"></uni-tag></view></block></block></view></block><block wx:if="{{historyList.length>0}}"><view class="search-history-box"><view class="search-title">历史搜索</view><block wx:for="{{historyList}}" wx:for-item="world" wx:for-index="index" wx:key="index"><block><view class="search-tag-view"><uni-tag vue-id="{{'2-'+index}}" circle="{{true}}" text="{{world}}" data-event-opts="{{[['^click',[['historyTagClick',[index]]]]]}}" bind:click="__e" bind:__l="__l"></uni-tag></view></block></block><view data-event-opts="{{[['tap',[['clearSearch']]]]}}" class="serach-clear-history" bindtap="__e"><text class="text-icons text-icons-delete search-delete-icon"></text><text class="search-delete-text">清除历史记录</text></view></view></block></view></block><block wx:else><view class="search-good-view"><view class="search-good-condition-view"><block wx:for="{{conditions}}" wx:for-item="condition" wx:for-index="index" wx:key="index"><block><view data-event-opts="{{[['tap',[['conditionClick',[index]]]]]}}" class="{{['search-good-condition-item',(selectIndex==index)?'search-good-condition-color':'']}}" bindtap="__e">{{''+condition.name+''}}</view></block></block></view><scroll-view class="search-good-scroll-list" scroll-top="{{scrollTop}}" scroll-y="true" data-event-opts="{{[['scroll',[['scroll',['$event']]]],['scrolltolower',[['loadMore']]]]}}" bindscroll="__e" bindscrolltolower="__e"><view class="search-good-list"><block wx:for="{{goods.data}}" wx:for-item="g" wx:for-index="idx" wx:key="idx"><block><view data-event-opts="{{[['tap',[['goodClick',['$0'],[[['goods.data','',idx]]]]]]]}}" class="search-good" bindtap="__e"><view class="search-good-image-view"><image class="search-good-image" lazy-load src="{{g.main_pic}}"></image></view><view class="search-good-title-view"><view class="search-good-title">{{g.dtitle}}</view></view><view class="search-good-price"><block wx:if="{{g.istmall}}"><text class="search-good-price-favour">{{"天猫价￥"+g.original_price}}</text></block><block wx:else><text class="search-good-price-favour">{{"淘宝价￥"+g.original_price}}</text></block><text class="search-sell-number">{{"已售"+g.sales_num+"件"}}</text></view><view class="search-good-price"><block wx:if="{{g.coupon_price>0}}"><text class="search-good-price-original">{{"券后价￥"+g.price}}</text></block><block wx:else><text class="search-good-price-original">{{"￥"+g.price}}</text></block><block wx:if="{{g.coupon_price>0}}"><text class="search-good-tip">{{g.coupon_price+"元券"}}</text></block></view></view></block></block></view><uni-load-more vue-id="3" status="{{loadmoreStatue}}" contentText="{{loadingText}}" bind:__l="__l"></uni-load-more></scroll-view><uni-floating-button vue-id="4" visible="{{showFloatButton}}" data-event-opts="{{[['^click',[['gotTop']]]]}}" bind:click="__e" bind:__l="__l"></uni-floating-button><view><uni-drawer vue-id="5" visible="{{showDrawer}}" mode="right" data-event-opts="{{[['^close',[['closeDrawer']]]]}}" bind:close="__e" bind:__l="__l" vue-slots="{{['default']}}"><view class="drawer-condition-box"><view class="drawer-title">价格区间(元):</view><view class="drawer-condition"><input class="{{['drawer-conditon-text',(!canFix)?'color-red':'']}}" id="start" maxlength="6" type="number" placeholder="最低价" data-event-opts="{{[['input',[['__set_model',['','startPrice','$event',[]]],['onKeyInput',['$event']]]]]}}" value="{{startPrice}}" bindinput="__e"/>-<input class="{{['drawer-conditon-text',(!canFix)?'color-red':'']}}" id="end" maxlength="6" type="number" placeholder="最高价" data-event-opts="{{[['input',[['__set_model',['','endPrice','$event',[]]],['onKeyInput',['$event']]]]]}}" value="{{endPrice}}" bindinput="__e"/></view></view><view class="drawer-condition-font"><button class="drawer-condition-button-reset" size="mini" type="primary" data-event-opts="{{[['tap',[['reset']]]]}}" bindtap="__e">重置</button><button class="drawer-condition-button-fix" size="mini" type="primary" data-event-opts="{{[['tap',[['fix']]]]}}" bindtap="__e">确定</button></view></uni-drawer></view></view></block>